---
title: "[保存版] Gmailのデータ移行方法まとめ"
emoji: "📝"
type: "idea"
topics: ["google", "gmail"]
published: true
published_at: 2020-08-03
---

:::message
この記事は、2020-08-03に別のブログ媒体に投稿した記事のアーカイブです。
:::

もともと個人でGmailとG Suiteのアカウントを1つずつ持っていて、それらを1つの新しく取得したGmail（G Suiteではなく）に統合するというややこしいことをやりました。

その作業が非常にややこしかったので、備忘録として残しておきます。

Gmail（G Suite）からGmailへのデータ移行をしようとしている方のお役に立てば幸いです。

# GmailからGmailへのデータ移行

1. まず移行元のGmailの設定で `メール転送とPOP/IMAP` から `すべてのメールでPOPを有効にする` をONにしておく
1. 移行先のアカウントの設定画面で `メッセージと連絡先のインポート` を開いて、移行元のGmailアドレスとパスワードを入れて、 `連絡先をインポート` `メールをインポート` にチェックを入れてインポートを実行
    * `今後 30 日間の新着メールをインポートする` というチェックボックスもあるけど、30日と言わず永久に転送させたかったので、これはチェックせず、別途、移行元のアカウントに全メールを移行先アカウントに転送する設定を行った
    * インポート処理は最大2日かかるので、気長に待つ
![](https://tva1.sinaimg.cn/large/00831rSTgy1gcufnyy37yj31a005e407.jpg)
1. フィルタはエクスポート＆インポートで移行
1. その他の設定は手作業で移行

> 裏側で [ShuttleCloud Migration なるソフトが連携している](https://kabeto.net/2019/05/13/gmail%EF%BC%9A%E3%81%99%E3%81%B9%E3%81%A6%E3%81%AE%E3%83%A1%E3%83%BC%E3%83%AB%E3%81%A8%E9%80%A3%E7%B5%A1%E5%85%88%E3%82%92%E5%88%A5%E3%81%AEgmail%E3%81%AB%E3%82%A4%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%88/) ようです。

# G SuiteからGmailへのデータ移行

これは異常に厄介でした😓

上手く行かなかったところも含めて記録として残しておきたいので、時系列で記していきます🙏

GmailからGmailへの移行は裏側でShuttleCloud Migrationが面倒を見てくれるので簡単だったのですが、G SuiteからGmailへの移行ではそれが使えず、G SuiteアカウントからPOPですべてのメールを取得してくる必要があるようです。（ `メッセージと連絡先のインポート` でG Suiteアカウントのログイン情報を入力してもインポートは始まらず、そのあとPOPサーバー情報の入力を求められます。）

というわけで、以下のように対応しました。

1. まずG SuiteのGmailの設定の `メール転送とPOP/IMAP` で `すべてのメールでPOPを有効にする` をONにしておく
1. G Suiteアカウントで [安全性の低いアプリのアクセス](https://myaccount.google.com/lesssecureapps) で安全性の低いアプリのアクセスを許可しておく（念のため）
1. G Suiteアカウントで <https://www.google.com/a/quartetcom.co.jp/UnlockCaptcha> にアクセスしてCaptchaを一時的に無効にしておく
1. 移行先Gmailの `メッセージと連絡先のインポート` で以下の内容を入力してインポート開始
    * メールアドレス: `hoge@xxx.com` （ `xxx.com` がG Suiteのドメイン）
    * パスワード: G Suiteアカウントのパスワード
    * ユーザー名: `hoge@xxx.com`
    * サーバー: `pop.gmail.com`
    * ポート: `995`
    * SSL を使用する: `はい`

> 参考：[POP を使用して他のメール クライアントで Gmail のメールを読む - Gmail ヘルプ](https://support.google.com/mail/answer/7104828?hl=ja&visit_id=637198385736394532-505305561&rd=3)

ところが、これを実行すると `現在、このアカウントはインポートできません。後でもう一度試してください。` というエラーになりました😓

G Suiteのサポートに問い合わせてみたところ、

* 過去の事例では `受信したメッセージのコピーをサーバーに残す` にチェックを入れずに実施するとインポートできたことがある
* その際にG Suite側でメールが消えるようなことはなかった

とのことだったので、言われたとおりそれを試してみたのですが、結果は変わらずでした。

並行して行っていた、G Suiteではない他のPOPサーバーからのインポート（後述のさくらインターネットのメールサーバーからのインポート）は問題なく実施できたのですが、その際に、`メッセージと連絡先のインポート` からインポートを実施したにもかかわらず、 `メッセージと連絡先のインポート` のほうに `インポート中` の表示は出ず、 `他のアカウントのメールを確認` のほうにインポート元のPOPアカウントが登録されているという現象が確認されました。

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1ghdnc5ypohj30no0t2jvq.jpg)

これを鑑みて、G Suiteサポートからも `他のアカウントのメールを確認` のほうにG SuiteのPOPサーバーを登録したらインポートできませんかね？と言われ、試してみたところ、何度か `ユーザー名とパスワードでログインできませんでした` みたいなエラーになったのですが、何回目かで先に進めて、 `このアカウントではサーバーにメールを残すことはできません` というようなエラーになりました。

`サーバーにメールを残す` のチェックを外して実行してもメールは消えませんか？とサポートに聞いてみましたが、無料Gmailへのインポートはサポート対象外で正確なことが分からないので自己責任でやってほしいと言われ、エイヤでやってみたところ、アカウントの登録には成功して、POPによるメール取得が始まりました。

が、何回か受信が実行されたあと、 `認証エラーが発生しました。 サーバーから返されたエラー [AUTH] Web login required: https://support.google.com/mail/answer/78754` というエラーで受信が失敗するようになり、Captcha無効化URLにアクセスしてみても状況変わらずエラーになり続ける感じになりました。

ここで、G Suiteのサポートが窓口の方から担当部署に引き継がれて、もう少し具体的で明快な回答が得られました。

以下、いただいたメールの文面を（多少加工して）記載します。

```
金本 様

平素よりお世話になっております。Google Cloud Support の xxx と申します。
この度は、当サポート窓口をご利用いただきまして、誠にありがとうございます。

お問い合わせいただきました、[ 現在、このアカウントはインポートできません。後でもう一度試してくださいというエラー ] の件で、弊社 xxx に代わりご連絡をいたします。

表題のエラーが表示され、連絡先がインポート出来ないとのこと、承知いたしました。
既にインポート先のアカウントにて、「他のアカウントのメールを確認」よりアカウント追加を行っていただいている状況でございますでしょうか。

本来、「メッセージと連絡先のインポート」のサービスが Google アカウントの追加を想定していないため、「他のアカウントのメールを確認」にて追加をいただくことをおすすめいたします。
なお、「他のアカウントのメールを確認」での設定につきましても、チャット内にてご紹介しております設定の値と同じご設定をご利用ください。

事前準備として、Gmail アカウント、G Suite アカウントどちらも、「POP を有効にする設定」と「安全性の低いアプリのアクセスを許可する」設定が必要となります。

1. Gmail へアクセス
2. 歯車マーク > [ 設定 ] > [ アカウントとインポート ] もしくは [ アカウント ] の順にクリック
3. [ 他のアカウントのメールを確認 ] にて、追加するメールアドレスを入力し [ 次へ ] をクリック
4. [ ユーザー名 ] に追加するフルのメールアドレス、[ パスワード ] に追加するアカウントのパスワードを入力
5. [ POP サーバー ] を [ pop.gmail.com ] に選択し、ポート番号を [ 995 ] に設定
6. [ メールの取得にセキュリティで保護された接続 ( SSL ) を使用する ] のチェックは必須、それ以外のオプションにチェックを付与
7. [ アカウントを追加 ] をクリック

ご不明な点がある場合や、認識に相違がある場合は、引き続き可能な限りサポートさせていただきますので、ご遠慮なくお知らせいただければと存じます。

なお本件につきまして追加のご質問などがなく、当窓口からのサポートを必要とされない場合には、ご多忙と存じますのでご返信は不要でございます。

その場合、本お問い合わせは、ケース管理の都合上、数日後に一旦ご案内終了のステータスへと移行されますが、30 日以内であれば、本メールにご返信いただくことで、サポート再開が可能ですのでご安心ください。

何卒よろしくお願い申し上げます。
```

というわけで、

* G Suiteだけでなく移行先のGmailでも `安全性の低いアプリの許可` と `POPの有効化` の2つをしておいた上で
* `他のアカウントのメールを確認` に登録する

のが正しい手順だという公式（？）情報が得られました。

この時点で、確かにGmail側で `安全性の低いアプリの許可` と `POPの有効化` はやっていなかったので、それをやってみたところ、無事にメールのインポートが進むようになりました。

ちょいちょいエラーにはなっていましたが、追加で何かアクションをしなくても何度かエラーが起こったあと自然に解消して（タイミングの問題？）、先に進みつつエラーになりつつ、という感じで一応流れていきました。

結局、数日か数週間放置して、これ以上取得するメールがないという状態になるところまで行けたので、無事に移行できたものと判断しています。

# おまけ：さくらインターネットのメールサーバーからGmailにインポート

もともとさくらインターネットのメールサーバーを契約していて、Gmailに転送して使っていました。

Gmailアカウント移行後はさくらインターネット側の設定で転送先を新しいGmailに変更すればいいだけですが、過去に旧Gmailで受け取ったさくらのメールを、念のため（Gmailのインポートで完全に移行できなかった場合に備えて）さくらのサーバーからも直接インポートしておくことにしました。

具体的には、移行先Gmailの `メッセージと連絡先のインポート` で以下の内容を入力して実行したのみです。

* メールアドレス: `hoge@xxx.sakura.ne.jp`
* パスワード: さくらメールアドレスのパスワード
* ユーザー名: `hoge@xxx.sakura.ne.jp`
* サーバー: `xxx.sakura.ne.j;p`
* ポート:  `110`
* SSL を使用する: `いいえ`
